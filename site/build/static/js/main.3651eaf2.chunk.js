(this["webpackJsonp1337xto-subscriber-site"]=this["webpackJsonp1337xto-subscriber-site"]||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),s=n(34),c=n.n(s),r=n(117),o=n(119),u=n(18),l=n.n(u),j=n(28),h=n(2),b=n(110),d=n(112),p=n(120),O=n(116),x=n(111),f=n(121),k=n(70),m=n(3),g=function(e){var t=e.login,n=Object(i.useState)(!1),a=Object(h.a)(n,2),s=a[0],c=a[1],r=function(){var e=Object(j.a)(l.a.mark((function e(n){var i,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/login",{method:"POST",body:JSON.stringify({token:n.tokenId}),headers:{"Content-Type":"application/json"}});case 2:if(200!==(i=e.sent).status){e.next=8;break}return e.next=6,i.json();case 6:a=e.sent,t(a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=Object(k.useGoogleLogin)({clientId:"349586056719-neu1drj5i37k7h1a3cmcudvb7aebuqs3.apps.googleusercontent.com",onSuccess:r,onFailure:r,cookiePolicy:"single_host_origin"}).signIn,u=function(){var e=Object(j.a)(l.a.mark((function e(){var n,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,fetch("/api/me");case 3:if(200===(n=e.sent).status){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,n.json();case 8:i=e.sent,t(i);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){s||u()})),Object(m.jsx)(b.a,{width:"100%",height:"100vh",justifyContent:"center",alignItems:"center",children:Object(m.jsxs)(b.a,{direction:"column",alignItems:"center",children:[Object(m.jsx)(x.a,{children:"1337xx.to hakubotti"}),Object(m.jsx)(d.a,{mb:"3",children:"Astu nykyaikaan ja automatisoi torrenttihakusi:)"}),Object(m.jsx)(p.a,{onClick:function(){return o()},textAlign:"center",children:"Kirjauppa sis\xe4\xe4n"})]})})},v=n(62),y=n(75),S=n(118),w=n(122),C=function(e){var t=e.searchString,n=Object(y.a)(e,["searchString"]);return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(S.a,Object(v.a)(Object(v.a)({},n),{},{children:[Object(m.jsx)(S.g,{}),Object(m.jsxs)(S.d,{children:[Object(m.jsx)(S.f,{children:t.length>0?"Tilaus muutettu":"Tilaus poistettu"}),Object(m.jsx)(S.c,{}),Object(m.jsx)(S.b,{children:t.length>0?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(d.a,{children:"Tilaus aloitettu hauille:"}),Object(m.jsx)(w.b,{mb:"5",children:t.split(", ").map((function(e){return Object(m.jsx)(w.a,{children:e})}))}),Object(m.jsx)(d.a,{children:"S\xe4hk\xf6postiisi pit\xe4isi olla tullut viesti tilauksen muutoksesta. Jos kyseinen viesti on l\xf6yt\xe4nyt tiens\xe4 perille asti, pit\xe4isi tulevien hakubotin viestienkin l\xf6yt\xe4\xe4:)"})]}):"Tilaus poistettu. S\xe4hk\xf6posteja ei enn\xe4\xe4 pit\xe4isi tulla:)"}),Object(m.jsx)(S.e,{children:Object(m.jsx)(p.a,{colorScheme:"blue",mr:3,onClick:n.onClose,children:"Okokok"})})]})]}))})},T=function(e){var t=Object(i.useState)(null),n=Object(h.a)(t,2),a=n[0],s=n[1],c=Object(i.useState)(""),r=Object(h.a)(c,2),o=r[0],u=r[1],k=Object(i.useState)(!1),v=Object(h.a)(k,2),y=v[0],S=v[1],w=Object(i.useState)(!1),T=Object(h.a)(w,2),I=T[0],J=T[1],F=function(){var e=Object(j.a)(l.a.mark((function e(){var t,n,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.next=3,fetch("/api/update-subscription",{method:"POST",body:JSON.stringify({searchString:o}),headers:{"Content-Type":"application/json"}});case 3:if(200!==(t=e.sent).status){e.next=11;break}return e.next=7,t.json();case 7:n=e.sent,i=n.user,s(i),J(!0);case 11:S(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/logout",{method:"POST"});case 2:return t=e.sent,e.next=5,t.json();case 5:s(null);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[a?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(b.a,{justifyContent:"space-between",position:"absolute",width:"100%",p:"5",children:[Object(m.jsxs)(d.a,{children:["Kirjautunut: ",a.email]}),Object(m.jsx)(p.a,{onClick:P,children:"Kirjaudu ulos"})]}),Object(m.jsx)(b.a,{width:"100%",minHeight:"100vh",justifyContent:"center",alignItems:"center",p:"5",pb:{base:0,md:20},children:Object(m.jsxs)(O.a,{children:[Object(m.jsx)(x.a,{as:"h2",size:"md",children:"Sy\xf6t\xe4 hakusanat, joita halajat tarkastella"}),Object(m.jsx)(d.a,{children:"Jos halajat tarkastella useampaa torrenttia, erottele haut pilkulla ja v\xe4lill\xe4."}),Object(m.jsxs)(d.a,{children:["Esimerkiksi: ",Object(m.jsx)("i",{children:"one piece 980, one piece 981"})]}),Object(m.jsx)(d.a,{children:"Huom! Isoilla ja pienill\xe4 kirjaimilla ei ole v\xe4li\xe4 haun kannalta"}),Object(m.jsx)(f.a,{value:o,onChange:function(e){return u(e.target.value)},placeholder:"one piece 980, one piece 981",mb:"3"}),Object(m.jsx)(p.a,{onClick:F,isLoading:y,isDisabled:o===a.search_words.join(", ")||y,mb:"5",children:"Tallenna haku"}),Object(m.jsx)(d.a,{children:"Jos halajat poistella tilauksen, tallenna tyhj\xe4 haku niin sp\xe4mmi\xe4 ei pit\xe4is en\xe4\xe4 tulla"})]})})]}):Object(m.jsx)(g,{login:function(e){s(e),u(e.search_words.join(", "))}}),Object(m.jsx)(C,{isOpen:I,onClose:function(){return J(!1)},searchString:o})]})},I=Object(r.a)({config:{initialColorMode:"dark",useSystemColorMode:!1}}),J=function(){return Object(m.jsx)(o.a,{resetCSS:!0,theme:I,children:Object(m.jsx)(T,{})})};c.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(J,{})}),document.getElementById("root"))}},[[100,1,2]]]);
//# sourceMappingURL=main.3651eaf2.chunk.js.map